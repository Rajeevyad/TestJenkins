node
{
    stage 'GitHub'
	def app
    try 
    {
        echo 'Getting data from Github.........'

        git 'https://github.com/Rajeevyad/TestJenkins.git'

	    echo "${env.GIT_BRANCH}"
		echo "${env.GIT_COMMIT}"
		echo "${env.GIT_PREVIOUS_COMMIT}"
		echo "${env.GIT_PREVIOUS_SUCCESSFUL_COMMIT}"
		echo "${env.GIT_URL}"
      
    } catch (err) {
        echo "Caught: ${err}"
        currentBuild.result = 'FAILURE'
    }   

    
    notify('BUILD SUCCESSFUL')     
}


def notify(status)
{
    node
    {
     echo "BuildNumber: ${BUILD_NUMBER} ----JOB NAME: ${JOB_NAME}"
    }
}
